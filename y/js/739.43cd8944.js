"use strict";(self["webpackChunkdelivery_vue"]=self["webpackChunkdelivery_vue"]||[]).push([[739],{6591:function(t,a,s){s.d(a,{Z:function(){return l}});var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("nav",{staticClass:"navbar navbar-light fixed-top"},[s("div",{staticClass:"container-fluid"},[s("h2",{staticClass:"navbar-brand"},[t._v(t._s(t.tittle))]),t._m(0),s("div",{staticClass:"offcanvas offcanvas-end",staticStyle:{visibility:"hidden"},attrs:{tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel","aria-hidden":"true"}},[t._m(1),s("div",{staticClass:"offcanvas-body"},[s("div",{staticClass:"nav-container-partner"},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item",on:{click:function(a){return t.goTo("disponibleAsks")}}},[s("div",{staticClass:"icon home"}),s("a",{staticClass:"nav-link",attrs:{"aria-current":"page"}},[t._v("Pedidos disponibles")])]),s("li",{staticClass:"nav-item",on:{click:function(a){return t.goTo("myAsks")}}},[s("div",{staticClass:"icon ask"}),s("a",{staticClass:"nav-link"},[t._v("Mis pedidos")])]),s("li",{staticClass:"nav-item padding-correction",on:{click:function(a){return t.goTo("history")}}},[s("div",{staticClass:"icon history"}),s("a",{staticClass:"nav-link"},[t._v("Historial")])]),s("li",{staticClass:"nav-item padding-correction",on:{click:function(a){return t.goTo("profit")}}},[s("div",{staticClass:"icon money"}),s("a",{staticClass:"nav-link"},[t._v("Ganancias")])])]),s("div",{staticClass:"logOutContainer",attrs:{"data-v-79df3b98":""}},[s("button",{attrs:{"data-v-79df3b98":""},on:{click:t.logOut}},[s("span",{attrs:{"data-v-79df3b98":""}},[t._v("Cerrar SesiÃ³n")])])])])])])])])},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"offcanvas-header"},[s("h5",{staticClass:"offcanvas-title",attrs:{id:"offcanvasNavbarLabel"}},[t._v("Mi Barrio")]),s("button",{staticClass:"btn-close text-reset",attrs:{type:"button","data-bs-dismiss":"offcanvas","aria-label":"Close"}})])}],n={name:"RiderNav",props:["tittle"],methods:{goTo:function(t){"disponibleAsks"===t?this.$router.push({name:"RiderIndex"}):"myAsks"===t?this.$router.push({name:"RiderMyAsks"}):"history"===t?this.$router.push({name:"RiderHistory"}):"profit"===t&&this.$router.push({name:"RiderProfit"})},overflowSolve:function(){var t=document.querySelector("#offcanvasNavbar"),a=document.querySelector("body");"visible"!=t.style.visibility&&(a.style.overflow="auto")},logOut:function(){firebase.auth().signOut().then((()=>{this.$router.push("/RiderLogin")})).catch((t=>{console.log(`Ocurrio un error, el error es ${t}`)}))}},mounted(){this.overflowSolve()}},r=n,o=s(1001),c=(0,o.Z)(r,e,i,!1,null,"398e9d9c",null),l=c.exports},8739:function(t,a,s){s.r(a),s.d(a,{default:function(){return d}});var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("header",[s("RiderNav",{attrs:{tittle:"Ganancias"}})],1),s("section",{staticClass:"ask-header"},[s("button",{class:[t.classActual],attrs:{id:"inProcess"},on:{click:function(a){return t.changeSection("actual")}}},[s("h3",[t._v("Deudas")])]),s("button",{class:[t.classOld],attrs:{id:"ended"},on:{click:function(a){return t.changeSection("old")}}},[s("h3",[t._v("Ganancias")])])]),s("section",{staticClass:"rider-profit"},["ask-checked"===t.classOld?s("article",{staticClass:"proffit"},[s("h1",[t._v("Ganancias de este mes")]),s("h3",[t._v("$"+t._s(t.proffit))])]):t._e(),""===t.classOld?s("article",{staticClass:"proffit"},[s("h1",[t._v("Deudas de este mes")]),s("h3",[t._v("$"+t._s(t.dbt))])]):t._e()])])},i=[],n=s(6591),r={name:"RiderProfit",components:{RiderNav:n.Z},data(){let t={},a=0,s=0,e="ask-checked",i="";return{users:t,proffit:a,dbt:s,classOld:e,classActual:i}},methods:{isLogin:function(){firebase.auth().onAuthStateChanged((t=>{t?firebase.database().ref("USERSriders").on("value",(a=>{var s=a.val(),e=!1;s.forEach((a=>{a.mail.toLowerCase()===t.email&&(this.user=t,e=!0)})),e||this.$router.push("/RiderLogin")})):this.$router.push("/RiderLogin")}))},showAsk:function(){firebase.auth().onAuthStateChanged((t=>{if(t){this.user=t,this.proffit=0,this.dbt=0;var a=0,s=0;let e=(new Date).getMonth()+1;firebase.database().ref("pedidos").on("value",(i=>{Object.values(i.val()).forEach((i=>{Object.values(i).forEach((i=>{var n="Entregado"===i.estado||"Retirado del local, en camino"===i.estado;i.riderID===t.uid&&n&&e===i.monthAsk&&(s+=i.riderDbt),i.riderID===t.uid&&"Entregado"===i.estado&&e===i.monthAsk&&(a+=110)}))})),this.dbt=s,this.proffit=a}))}}))},changeSection:function(t){this.state=t,"old"===t?(this.classOld="ask-checked",this.classActual=""):"actual"===t&&(this.classOld="",this.classActual="ask-checked")}},mounted(){this.isLogin(),this.showAsk()}},o=r,c=s(1001),l=(0,c.Z)(o,e,i,!1,null,"4e42d538",null),d=l.exports}}]);
//# sourceMappingURL=739.43cd8944.js.map