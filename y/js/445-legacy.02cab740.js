"use strict";(self["webpackChunkdelivery_vue"]=self["webpackChunkdelivery_vue"]||[]).push([[445],{6445:function(t,a,e){e.r(a),e.d(a,{default:function(){return d}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("header",[e("UserNav",{attrs:{page:"Producto",login:"true",clas:"header-navegator"}})],1),e("section",{staticClass:"dish-container"},[e("div",{staticClass:"dish-photo",style:{"background-image":"url("+t.product.img+")","background-size":"cover","background-position":"center"}}),e("article",{staticClass:"dish-body"},[e("h3",[t._v(t._s(t.product.nombre))]),e("p",[t._v("$"+t._s(t.product.costo))])]),e("div",{staticClass:"unity"},[e("h5",[t._v("Unidades")]),e("div",{staticClass:"moreLess-products-container"},[e("button",{staticClass:"less",on:{click:function(a){return t.changeQuanty("subtract")}}},[e("span",[t._v("-")])]),e("span",{staticClass:"amount",attrs:{id:"amountPrice"}},[t._v(t._s(t.countUnitys))]),e("button",{staticClass:"more",on:{click:function(a){return t.changeQuanty("add")}}},[e("span",[t._v("+")])])])]),e("div",{staticClass:"restaurant-notes"},[e("h4",[t._v("Notas para este producto")]),e("p",[t._v("El restaurante lo tendra en cuenta cuando lo prepare")]),e("div",{staticClass:"notes-input"},[e("textarea",{attrs:{type:"text",name:"restaurant-notes",placeholder:"Sin mayonesa y sin sal.",maxlength:"100"},on:{beforeinput:t.funcCountKeys}}),e("span",{attrs:{id:"countKeys"}},[t._v(t._s(t.countKeys)+"/100")])])])]),e("section",{staticClass:"send-ask"},[e("div",[e("button",{on:{click:t.addProducts}},[t._v("Agregar al pedido $"+t._s(t.product.costo*t.countUnitys))])])])])},r=[],n=(e(4916),e(3123),e(2479),e(1539),e(4747),e(8862),e(1659)),o={name:"Plato",data:function(){var t=1,a=0,e="",s={},r="",n=[];return{countUnitys:t,countKeys:a,palabraSeparada:e,product:s,productsInTheCart:n,directionResto:r}},components:{UserNav:n.Z},methods:{completePage:function(){var t=this,a=document.querySelector("nav"),e=parseInt(a.scrollHeight),s=document.querySelector(".dish-container");s.style.marginTop="".concat(e,"px"),this.palabraSeparada=this.$route.params.id.split("--"),firebase.database().ref("restaurantes/".concat(this.palabraSeparada[0])).on("value",(function(a){var e=Object.values(a.val());e.forEach((function(a){null!=a.dir&&void 0!=a.dir&&(t.directionResto=a.dir),a.nombre===t.palabraSeparada[1]&&(t.product=a)})),console.log(t.directionResto)}))},changeQuanty:function(t){"add"===t?this.countUnitys++:"subtract"===t&&1!=this.countUnitys&&this.countUnitys--},funcCountKeys:function(){var t=this,a=event.target;window.setTimeout((function(e){t.countKeys=a.value.split("").length}),5)},verifyProducts:function(){var t=this;null==JSON.parse(localStorage.getItem("miBarrio"))?localStorage.setItem("miBarrio",JSON.stringify([])):JSON.parse(localStorage.getItem("miBarrio")).forEach((function(a){"-"!=a&&t.productsInTheCart.push(a)}))},addProducts:function(){var t=document.querySelector("textarea[name='restaurant-notes']"),a={restaurantName:this.palabraSeparada[0],productName:this.product.nombre,productPrice:this.product.costo,productImg:this.product.img,productQuantity:this.countUnitys,userNotes:t.value,restaurantDirection:this.directionResto};if(0===this.productsInTheCart.length)this.productsInTheCart.push(a);else{var e="no";this.productsInTheCart.forEach((function(t){t.restaurantName==a.restaurantName&&t.productName==a.productName&&(e="si")})),"no"==e&&this.productsInTheCart.push(a)}localStorage.setItem("miBarrio",JSON.stringify(this.productsInTheCart)),window.history.back(),console.log(this.productsInTheCart)}},mounted:function(){this.completePage(),this.verifyProducts()}},i=o,c=e(1001),u=(0,c.Z)(i,s,r,!1,null,null,null),d=u.exports}}]);
//# sourceMappingURL=445-legacy.02cab740.js.map