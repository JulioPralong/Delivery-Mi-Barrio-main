"use strict";(self["webpackChunkdelivery_vue"]=self["webpackChunkdelivery_vue"]||[]).push([[445],{6445:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("header",[a("UserNav",{attrs:{page:"Producto",login:"true",clas:"header-navegator"}})],1),a("section",{staticClass:"dish-container"},[a("div",{staticClass:"dish-photo",style:{"background-image":"url("+t.product.img+")","background-size":"cover","background-position":"center"}}),a("article",{staticClass:"dish-body"},[a("h3",[t._v(t._s(t.product.nombre))]),a("p",[t._v("$"+t._s(t.product.costo))])]),a("div",{staticClass:"unity"},[a("h5",[t._v("Unidades")]),a("div",{staticClass:"moreLess-products-container"},[a("button",{staticClass:"less",on:{click:function(e){return t.changeQuanty("subtract")}}},[a("span",[t._v("-")])]),a("span",{staticClass:"amount",attrs:{id:"amountPrice"}},[t._v(t._s(t.countUnitys))]),a("button",{staticClass:"more",on:{click:function(e){return t.changeQuanty("add")}}},[a("span",[t._v("+")])])])]),a("div",{staticClass:"restaurant-notes"},[a("h4",[t._v("Notas para este producto")]),a("p",[t._v("El restaurante lo tendra en cuenta cuando lo prepare")]),a("div",{staticClass:"notes-input"},[a("textarea",{attrs:{type:"text",name:"restaurant-notes",placeholder:"Sin mayonesa y sin sal.",maxlength:"100"},on:{beforeinput:t.funcCountKeys}}),a("span",{attrs:{id:"countKeys"}},[t._v(t._s(t.countKeys)+"/100")])])])]),a("section",{staticClass:"send-ask"},[a("div",[a("button",{on:{click:t.addProducts}},[t._v("Agregar al pedido $"+t._s(t.product.costo*t.countUnitys))])])])])},r=[],o=a(1659),n={name:"Plato",data(){let t=1,e=0,a="",s={},r="",o=[];return{countUnitys:t,countKeys:e,palabraSeparada:a,product:s,productsInTheCart:o,directionResto:r}},components:{UserNav:o.Z},methods:{completePage:function(){var t=document.querySelector("nav"),e=parseInt(t.scrollHeight),a=document.querySelector(".dish-container");a.style.marginTop=`${e}px`,this.palabraSeparada=this.$route.params.id.split("--"),firebase.database().ref(`restaurantes/${this.palabraSeparada[0]}`).on("value",(t=>{var e=Object.values(t.val());e.forEach((t=>{null!=t.dir&&void 0!=t.dir&&(this.directionResto=t.dir),t.nombre===this.palabraSeparada[1]&&(this.product=t)})),console.log(this.directionResto)}))},changeQuanty:function(t){"add"===t?this.countUnitys++:"subtract"===t&&1!=this.countUnitys&&this.countUnitys--},funcCountKeys:function(){let t=event.target;window.setTimeout((e=>{this.countKeys=t.value.split("").length}),5)},verifyProducts:function(){null==JSON.parse(localStorage.getItem("miBarrio"))?localStorage.setItem("miBarrio",JSON.stringify([])):JSON.parse(localStorage.getItem("miBarrio")).forEach((t=>{"-"!=t&&this.productsInTheCart.push(t)}))},addProducts:function(){var t=document.querySelector("textarea[name='restaurant-notes']");let e={restaurantName:this.palabraSeparada[0],productName:this.product.nombre,productPrice:this.product.costo,productImg:this.product.img,productQuantity:this.countUnitys,userNotes:t.value,restaurantDirection:this.directionResto};if(0===this.productsInTheCart.length)this.productsInTheCart.push(e);else{var a="no";this.productsInTheCart.forEach((t=>{t.restaurantName==e.restaurantName&&t.productName==e.productName&&(a="si")})),"no"==a&&this.productsInTheCart.push(e)}localStorage.setItem("miBarrio",JSON.stringify(this.productsInTheCart)),window.history.back(),console.log(this.productsInTheCart)}},mounted(){this.completePage(),this.verifyProducts()}},i=n,c=a(1001),u=(0,c.Z)(i,s,r,!1,null,null,null),d=u.exports}}]);
//# sourceMappingURL=445.91c45945.js.map