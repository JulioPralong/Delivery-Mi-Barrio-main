"use strict";(self["webpackChunkdelivery_vue"]=self["webpackChunkdelivery_vue"]||[]).push([[795],{6591:function(t,a,e){e.d(a,{Z:function(){return d}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("nav",{staticClass:"navbar navbar-light fixed-top"},[e("div",{staticClass:"container-fluid"},[e("h2",{staticClass:"navbar-brand"},[t._v(t._s(t.tittle))]),t._m(0),e("div",{staticClass:"offcanvas offcanvas-end",staticStyle:{visibility:"hidden"},attrs:{tabindex:"-1",id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel","aria-hidden":"true"}},[t._m(1),e("div",{staticClass:"offcanvas-body"},[e("div",{staticClass:"nav-container-partner"},[e("ul",{staticClass:"navbar-nav"},[e("li",{staticClass:"nav-item",on:{click:function(a){return t.goTo("disponibleAsks")}}},[e("div",{staticClass:"icon home"}),e("a",{staticClass:"nav-link",attrs:{"aria-current":"page"}},[t._v("Pedidos disponibles")])]),e("li",{staticClass:"nav-item",on:{click:function(a){return t.goTo("myAsks")}}},[e("div",{staticClass:"icon ask"}),e("a",{staticClass:"nav-link"},[t._v("Mis pedidos")])]),e("li",{staticClass:"nav-item padding-correction",on:{click:function(a){return t.goTo("history")}}},[e("div",{staticClass:"icon history"}),e("a",{staticClass:"nav-link"},[t._v("Historial")])]),e("li",{staticClass:"nav-item padding-correction",on:{click:function(a){return t.goTo("profit")}}},[e("div",{staticClass:"icon money"}),e("a",{staticClass:"nav-link"},[t._v("Ganancias")])])]),e("div",{staticClass:"logOutContainer",attrs:{"data-v-79df3b98":""}},[e("button",{attrs:{"data-v-79df3b98":""},on:{click:t.logOut}},[e("span",{attrs:{"data-v-79df3b98":""}},[t._v("Cerrar Sesión")])])])])])])])])},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasNavbar","aria-controls":"offcanvasNavbar"}},[e("span",{staticClass:"navbar-toggler-icon"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"offcanvas-header"},[e("h5",{staticClass:"offcanvas-title",attrs:{id:"offcanvasNavbarLabel"}},[t._v("Mi Barrio")]),e("button",{staticClass:"btn-close text-reset",attrs:{type:"button","data-bs-dismiss":"offcanvas","aria-label":"Close"}})])}],n={name:"RiderNav",props:["tittle"],methods:{goTo:function(t){"disponibleAsks"===t?this.$router.push({name:"RiderIndex"}):"myAsks"===t?this.$router.push({name:"RiderMyAsks"}):"history"===t?this.$router.push({name:"RiderHistory"}):"profit"===t&&this.$router.push({name:"RiderProfit"})},overflowSolve:function(){var t=document.querySelector("#offcanvasNavbar"),a=document.querySelector("body");"visible"!=t.style.visibility&&(a.style.overflow="auto")},logOut:function(){var t=this;firebase.auth().signOut().then((function(){t.$router.push("/RiderLogin")})).catch((function(t){console.log("Ocurrio un error, el error es ".concat(t))}))}},mounted:function(){this.overflowSolve()}},o=n,r=e(1001),c=(0,r.Z)(o,s,i,!1,null,"398e9d9c",null),d=c.exports},7795:function(t,a,e){e.r(a),e.d(a,{default:function(){return y}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("header",[e("RiderNav",{attrs:{tittle:"Pedido"}})],1),e("section",{staticClass:"rider-ask-more-info"},[e("AskInfo")],1)])},i=[],n=(e(1539),e(4747),e(6591)),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("article",{staticClass:"disponible-ask-container-info"},[e("div",{staticClass:"disponible-ask-info-header"},[e("h2",[t._v(t._s(t.ask.restaurant))])]),e("div",{staticClass:"disponible-ask-body-info mt-3"},[e("div",{staticClass:"directions-ask-info"},[e("div",{staticClass:"delivery-directions-info"},[e("h4",[t._v("Retiro")]),e("p",[t._v(t._s(t.ask.partnerDir))])]),e("div",{staticClass:"delivery-directions-info"},[e("h4",[t._v("Entrega")]),e("p",[t._v(t._s(t.ask.direction))])]),e("RiderPayType",{attrs:{ask:t.ask}})],1),t._m(0)]),"pendingAcept"===t.state?e("button",{staticClass:"conditionPedido",on:{click:function(a){return t.changeStatus("acepted")}}},[e("h2",[t._v("Aceptar pedido")])]):"goingRestaurant"===t.state?e("button",{staticClass:"conditionPedido acept",on:{click:function(a){return t.changeStatus("inRestaurante")}}},[e("h2",[t._v("Llegue al local")])]):"aceptedNoDelivered"===t.state?e("button",{staticClass:"conditionPedido acept",on:{click:function(a){return t.changeStatus("retiredOfRestaurant")}}},[e("h2",[t._v("Retiré del local")])]):"isdelivered"===t.state?e("button",{staticClass:"conditionPedido acept",on:{click:function(a){return t.changeStatus("delivered")}}},[e("h2",[t._v("Entregué el pedido")])]):"delivered"===t.state?e("button",{staticClass:"conditionPedido acept"},[e("h2",[t._v("Entregado")])]):t._e()])},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"proffit-money mb-4"},[e("h3",[t._v("Ganancia $110")])])}],c=(e(2222),e(2479),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"accordion",attrs:{id:"accordionExample"}},[e("div",{staticClass:"accordion-item"},[e("h2",{staticClass:"accordion-header",attrs:{id:["heading"]}},[e("button",{staticClass:"accordion-button collapsed",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":["#collapse"],"aria-expanded":"false","aria-controls":["collapse"]}},[e("h1",[t._v("Medio de pago")])])]),e("div",{staticClass:"accordion-collapse collapse",attrs:{id:["collapse"],"aria-labelledby":["heading"],"data-bs-parent":"#accordionExample"}},["method-cash"===t.ask.method?e("div",{staticClass:"accordion-body"},[e("h4",[t._v("Efectivo")]),e("p",[t._v("Cobrar $"+t._s(t.ask.riderDbt+110))])]):t._e(),"method-mp"===t.ask.method?e("div",{staticClass:"accordion-body"},[e("h4",[t._v("Tarjeta")]),e("p",[t._v("No cobrar")])]):t._e()])])])}),d=[],l={name:"RiderPayType",props:["ask"]},u=l,v=e(1001),f=(0,v.Z)(u,c,d,!1,null,"286f396a",null),h=f.exports,p={name:"RiderAskInfo",data:function(){var t="",a={},e={};return{ask:a,state:t,user:e}},components:{RiderPayType:h},methods:{changeStatus:function(t){var a=this;if("acepted"===t){this.state="goingRestaurant";var e=this.ask;firebase.auth().onAuthStateChanged((function(t){t&&(e.riderName=t.displayName,e.riderID=t.uid,e.estado="Repartidor llegando al restaurante",firebase.database().ref("pedidos/".concat(a.ask.clientID,"/").concat(a.ask.askID)).set(e))})),console.log(e),this.completeAsk()}else if("inRestaurante"===t){this.state="aceptedNoDelivered";var s=this.ask;firebase.auth().onAuthStateChanged((function(t){t&&(s.estado="Repartidor esperando en el restaurante",s.riderName=a.user.displayName,s.riderID=a.user.uid,firebase.database().ref("pedidos/".concat(a.ask.clientID,"/").concat(a.ask.askID)).set(s))})),this.completeAsk()}else if("retiredOfRestaurant"===t){this.state="isdelivered";var i=this.ask;firebase.auth().onAuthStateChanged((function(t){t&&(i.estado="Retirado del local, en camino",i.riderName=a.user.displayName,i.riderID=a.user.uid,firebase.database().ref("pedidos/".concat(a.ask.clientID,"/").concat(a.ask.askID)).set(i))})),this.completeAsk()}else if("delivered"===t){this.state="delivered";var n=this.ask;firebase.auth().onAuthStateChanged((function(t){t&&(n.estado="Entregado",n.riderName=a.user.displayName,n.riderID=a.user.uid,firebase.database().ref("pedidos/".concat(a.ask.clientID,"/").concat(a.ask.askID)).set(n))})),this.completeAsk()}},completeAsk:function(){var t=this,a=this.$route.params.id;firebase.auth().onAuthStateChanged((function(a){a&&(t.user=a)})),firebase.database().ref("pedidos").on("value",(function(e){Object.values(e.val()).forEach((function(e){Object.values(e).forEach((function(e){e.askID===a&&(t.ask=e,"Entregado"===e.estado?t.state="delivered":"Buscando repartidores"===e.estado?t.state="pendingAcept":"Repartidor llegando al restaurante"===e.estado?t.state="goingRestaurant":"Repartidor esperando en el restaurante"===e.estado?t.state="aceptedNoDelivered":"Retirado del local, en camino"===e.estado?t.state="isdelivered":"Entregado"===e.estado&&(t.state="delivered"))}))}))}))}},mounted:function(){this.completeAsk()}},b=p,m=(0,v.Z)(b,o,r,!1,null,"0088bd9a",null),k=m.exports,g={name:"RiderAskInfo",components:{RiderNav:n.Z,AskInfo:k},data:function(){var t={};return{user:t}},methods:{isLogin:function(){var t=this;firebase.auth().onAuthStateChanged((function(a){a?firebase.database().ref("USERSriders").on("value",(function(e){var s=e.val(),i=!1;s.forEach((function(e){e.mail.toLowerCase()===a.email&&(t.user=a,i=!0)})),i||t.$router.push("/RiderLogin")})):t.$router.push("/RiderLogin")}))}},mounted:function(){this.isLogin()}},C=g,_=(0,v.Z)(C,s,i,!1,null,null,null),y=_.exports}}]);
//# sourceMappingURL=795-legacy.ed252d4b.js.map